var $responseForm = $('#prompt<%= @prompt.id %>_response');
var $promptFooterForIndex = $('#index-footer-<%= @prompt.id %>');
var $promptFooterForShow = $('#show-footer-<%= @prompt.id %>');
var $newFooterForIndex = $('<%= j render partial: "single_prompt_footer", locals: { prompt: @prompt } %>').hide();
var $newFooterForShow = $('<%= j render partial: "prompt_footer", locals: { prompt: @prompt } %>').hide();

$responseForm.slideUp(function(){
  $(this)
    .remove();

  $promptFooterForIndex.slideUp(function(){
    $(this)
      .replaceWith($newFooterForIndex);

    $('#index-footer-<%= @prompt.id %>').slideDown();
  })

  $promptFooterForShow.slideUp(function(){
    $(this)
      .replaceWith($newFooterForShow);

    $('#show-footer-<%= @prompt.id %>').slideDown();
  })

});
