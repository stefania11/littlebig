var $responseForm = $('#prompt<%= @prompt.id %>_response');

$responseForm.slideUp(function(){
  $(this)
    .remove();

  var $indexPromptFooter = $('#prompt-<%= @prompt.id %> .post-bottom');
  var $newIndexPromptFooter = $('<%= j render partial: "single_prompt_footer", locals: { prompt: @prompt } %>').hide();
  $indexPromptFooter.slideUp(function(){
    $(this)
      .replaceWith($newIndexPromptFooter);

    $('#prompt-<%= @prompt.id %> .post-bottom').slideDown();
  })

  var $showPromptFooter = $('#prompt-<%= @prompt.id %> .panel-footer');
  var $newShowPromptFooter = $('<%= j render partial: "single_prompt_footer", locals: { prompt: @prompt } %>').hide();
  $indexPromptFooter.slideUp(function(){
    $(this)
      .replaceWith($newIndexPromptFooter);

    $('#prompt-<%= @prompt.id %> .post-bottom').slideDown();
  })

});
